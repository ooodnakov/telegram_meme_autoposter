{% extends "base.html" %}
{% block content %}
{% set query_suffix = '?page=' ~ page %}
<div class="d-flex justify-content-between align-items-center mb-3">
    <h1 class="m-0">{{ _('Batch') }}</h1>
    <a class="btn btn-sm btn-outline-secondary" href="/batch{{ query_suffix }}">{{ _('Refresh') }}</a>
</div>
{% if posts %}
<form
    method="post"
    action="/batch/send"
    onsubmit="return confirm('{{ _('Send whole batch?') }}');"
>
    <button class="btn btn-primary btn-lg w-100 mb-3" type="submit">
        {{ _('Send Batch') }}
    </button>
</form>
{% endif %}
<div id="batch-grid">
    {% set origin = "batch" %}
    {% set alt_text = _('batch item') %}
    {% set empty_message = _('Batch is empty.') %}
    {% include "_batch_grid.html" %}
</div>
{% endblock %}

{% block scripts %}
{{ super() }}
<script src="https://cdn.jsdelivr.net/npm/flatpickr@4.6.13/dist/flatpickr.min.js" integrity="sha256-IFiMwO33n2hRYI42V2B+K42LdwpD/LSJSgLzQ6G6Gqg=" crossorigin="anonymous"></script>
<script>
flatpickr(".datetime-picker", {enableTime: true, dateFormat: "{{ datetime_format_js }}"});
</script>
{% endblock %}
